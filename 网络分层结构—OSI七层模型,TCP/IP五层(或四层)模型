网络分层结构—OSI七层模型,TCP/IP五层(或四层)模型

一只懐坏旭 2020-06-25 18:52:01  26  收藏  原力计划
版权
！！！身为程序猿必须知道的知识点
网络分层结构
为什么要分层
分层的好处
主要的网络分层模型
OSI七层模型
TCP/IP五层(或四层)模型
为什么要分层
在网络协议中的分层。不仅仅是根据负责的功能来简单的划分层次，而且层与层之间会有不可缺少的的封装与传递。对于网络模型各层的封装是根据整个网络模型从上到下的工作流程来划分的。但是，每层之间会有一定的联系，不是独立工作的。
在这里以熟悉的协议 tcp协议 分析。对于网络从上到下的流程为 应用层的网络请求经过传输层加上TCP头，经过网络层加上端口号和IP源地址和目的地址等信息，经过数据链路层加上mac头。
通过层层的封装，得到一个完整的网络包。注意：在网络中，网络包都是完整的，可以没有上层只有下层，但一定不能有下层而没有上层。这样会破坏了网络协议层从上到下的完整性。
到这里，应该可以知道，网络为什么要分层了。这是从功能需求划分，协议维护与方便升级，降低网络通信复杂性出发考虑。

分层的好处
1.各层次之间是独立的。某一层并不需要知道它的下一层是如何实现的，而仅仅需要知道该层通过层间的接口所提供的服务。这样，整个问题的复杂程度就下降了。

2.灵活性好。当任何一层发生变化时，只要层间接口关系保持不变，则在这层以上或以下层均不受影响。

3.结构上可分割开。各层都可以采用最合适的技术来实现。技术的发展往往不对称的，层次化的划分有效避免了木桶效应，不会因为某一方面技术的不完善而影响整体的工作效率。

4.易于实现和维护。这种结构使得实现和调试一个庞大又复杂的系统变得易于处理，因为整个的系统已经被分解为若干个相对独立的子系统。进行调试和维护时，可以对每一层进行单独的调试，避免了出现找不到、解决错问题的情况。

5.能促进标准化工作。因为每一层的功能及其所提供的服务都已有了精确的说明。标准化的好处就是可以随意替换其中的某一层，对于使用和科研来说十分方便。

主要的网络分层模型


OSI七层模型
OSI（Open System Interconnection，开放系统互连）七层网络模型称为开放式系统互联参考模型，是 一个逻辑上的定义和规范;

把网络从逻辑上分为了7层. 每一层都有相关、相对应的物理设备，比如路由器，交换机;

OSI 七层模型是一种框架性的设计方法，其最主要的功能使就是帮助不同类型的主机实现数据传输;

它的最大优点是将服务、接口和协议这三个概念明确地区分开来，概念清楚，理论也比较完整. 通过七个 层次化的结构模型使不同的系统不同的网络之间实现可靠的通讯;

但是, 它既复杂又不实用; 所以主要掌握TCP/IP五层或四层模型

下面我用两个表格具体展示OSI七层模型：

分层	功能	TCP/IP协议
7	应用层(Application layer)	用户接口，应用程序(文件传输,电子邮件,文件服务,虚拟终端)	TFTP,HTTP,SNMP,DNS等
6	表示层(Presentation layer)	数据的表示,压缩和加密(数据格式化,代码转换,数据加密)	没有协议
5	会话层(Session layer)	会话的建立和结束(解除或建立与别的接点的联系)	没有协议
4	传输层(Transport layer)	提供端对端的接口	TCP,UDP
3	网络层(Network layer)	为数据包选择路由,寻址	IP,ICMP,RIP,OSPF等
2	数据链路层(Data link layer)	保证误差错的数据链路,传输有地址的帧,以及错误检测功能	SLIP,CSLIP,PPP,ARP等
1	物理层(Physical layer)	传输比特流,以二进制数据形式在物理媒体上的数据	ISO2110,IEEE802等
分层	设备	什么来处理
7	应用层(Application layer)	网关	应用程序
6	表示层(Presentation layer)	网关	——
5	会话层(Session layer)	网关	——
4	传输层(Transport layer)	网关	操作系统
3	网络层 (Network layer)	路由器	系统+网卡驱动程序
2	数据链路层(Data link layer)	交换机,网桥,网卡	系统
1	物理层 (Physical layer)	集线器,中继器	网络,光纤,电磁波
TCP/IP五层(或四层)模型
TCP/IP是一组协议的代名词，它还包括许多协议，组成了TCP/IP协议簇.
TCP/IP通讯协议采用了5层的层级结构，每一层都呼叫它的下一层所提供的网络来完成自己的需求.

此处提示：四层模型没有物理层，下面讲解五层模型

物理层: 负责光/电信号的传递方式. 比如现在以太网通用的网线(双绞 线)、早期以太网采用的的同轴电缆 (现在主要用于有线电视)、光纤, 现在的wiﬁ无线网使用电磁波等都属于物理层的概念。物理层的能力决定 了最大传输速率、传输距离、抗干扰性等.
集线器(Hub)工作在物理层.
数据链路层: 负责设备之间的数据帧的传送和识别. 例如网卡设备的驱动、帧同步(就是说从网线上检测到 什么信号算作新帧的开始)、冲突检测(如果检测到冲突就自动重发)、数据差错校验等工作. 有以太网、令 牌环网, 无线LAN等标准.交换机(Switch)工作在数据链路层.
网络层: 负责地址管理和路由选择. 例如在IP协议中, 通过IP地址来标识一台主机,并通过路由表的方式规划 出两台主机之间的数据传输的线路(路由). 路由器(Router)工作在网路层.
传输层: 负责两台主机之间的数据传输. 如传输控制协议 (TCP), 能够确保数据可靠的从源主机发送到目标主 机.
应用层: 负责应用程序间沟通，如简单电子邮件传输（SMTP）、文件传输协议（FTP）、网络远程访问协 议（Telnet）等.我们的网络编程主要就是针对应用层

物理层我们考虑的比较少. 因此很多时候也可以称为 TCP/IP四层模型.

一般而言

对于一台主机, 它的操作系统内核实现了从传输层到物理层的内容;
对于一台路由器, 它实现了从网络层到物理层;
对于一台交换机, 它实现了从数据链路层到物理层;
对于集线器, 它只实现了物理层;
但是并不绝对. 很多交换机也实现了网络层的转发; 很多路由器也实现了部分传输层的内容(比如端口转发);

分层	代表硬件	协议/技术	特性
1	物理层	双绞线,wifi电磁波,集线器		发送01光电信号
2	数据链路层	交换机	以太网,令牌环网,无线LAN,ARP,MTU	
3	网络层	路由器	IP	
4	传输层		TCP/UDP	(主机系统内核实现)
5	应用层		HTTP,DNS,NAT,NATP,FTP(了解),SMTP	(应用程序实现的 )
————————————————
版权声明：本文为CSDN博主「一只懐坏旭」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_45691220/article/details/106959875
